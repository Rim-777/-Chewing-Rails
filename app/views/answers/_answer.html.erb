<div id="answer_<%= answer.id %>" class="answer" data-answer-id='<%= answer.id %>'>
  <div class="answer_body_existed" id="answer_body_existed_<%= answer.id %>">
    <%= answer.body %>
  </div>


  <%= form_for answer, remote: true, html: {id: "answer_edit_form_#{answer.id}"} do |f| %>
      <div id="answer_errors"></div>

      <div class="field">
        <%= f.label "body_edit_#{answer.id}", 'editing' %> <br/>
        <%= f.text_area :body, id: "answer_body_edit_#{answer.id}" %>
      </div>


      <div class="actions">
        <%= f.submit 'Save' %>
      </div>

  <% end %>


  <span id="answer_crud_link_<%= answer.id %>">
  <%= answer.user.email %>
    <% if user_signed_in? %>

        <% if current_user.author_of?(answer) %>
      <%= link_to 'edit', '', class: 'answer_edit_link', data: {answer_id: answer.id}, id: "answer_edit_link_#{answer.id}" %>
            <%= link_to 'delete', answer, remote: true, method: :delete, data: {confirm: 'Do you want to remove the answer'} %>
    <% end %>

        <% if current_user.author_of?(@question) %>
            <%= link_to 'best?', select_best_answer_path(answer), class: 'answer_best_link',
                        id: "answer_best_link_#{answer.id}", remote: true, method: :patch %>

            <% if answer.is_best? %>
            <%= javascript_tag do %>
                $('#answer_best_link_<%= answer.id %>').hide();
                <% end %>
            <% end %>
    <% end %>
    <% end %>
</span>


</div>

<%= javascript_tag do %>
    setToggleOnAnswerEditLink('<%= answer.id %>');
<% end %>



